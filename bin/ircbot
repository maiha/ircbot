#!/usr/bin/env ruby

require 'ircbot'

config = nil
plugin = Pathname(Dir.getwd) + "plugins"

while (arg = ARGV.shift)
  case arg
  when /^-f$/		; config = ARGV.shift
  when /^-c$/		; cpi    = ARGV.shift
  else
    puts "invalid argument: `#{arg}'"
    exit
  end
end

unless config
  raise "Specify your config file\nusage: #{$0} -f config/xxx.dat"
end

Ircbot.push_path(:plugin, plugin)

irc = Ircbot::Client.from_file(config)
irc.start
puts "Bye"
